# Copyright 2025 Deutsche Telekom IT GmbH
#
# SPDX-License-Identifier: Apache-2.0

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Namespace to deploy resources
namespace: controlplane-system

# Common labels to add to all resources
commonLabels:
  app.kubernetes.io/name: migrator
  app.kubernetes.io/part-of: controlplane

resources:
- ../manager
- ../rbac

# Image to use for the controller
images:
- name: controller
  newName: ghcr.io/telekom/controlplane/migrator
  newTag: latest

# Patches
patchesStrategicMerge:
- manager_image_patch.yaml
